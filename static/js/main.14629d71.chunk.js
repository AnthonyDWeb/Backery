(this.webpackJsonpBackery=this.webpackJsonpBackery||[]).push([[0],{16:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),i=a(9),s=a.n(i),r=a(10),o=a(6),u=a(2),l=a(3),d=a(5),j=a(4),p=a(0),b=function(t){Object(d.a)(a,t);var e=Object(j.a)(a);function a(){return Object(u.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("button",{className:"btn ".concat(this.props.active&&"active"),name:this.props.children,onClick:this.props.onClick,children:this.props.label})}}]),a}(c.a.Component),h=function(t){Object(d.a)(a,t);var e=Object(j.a)(a);function a(){return Object(u.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.price;return Object(p.jsxs)("div",{className:"addContainer",children:[Object(p.jsx)("input",{className:"inputAppText",type:"text",onChange:this.props.updateProductName,placeholder:"Enter something . . ."}),Object(p.jsxs)("div",{className:"addInputContainer",children:[Object(p.jsx)("input",{className:"inputAppRange",type:"range",onChange:this.props.updatePrice,min:"1",max:"10",value:t}),Object(p.jsxs)("p",{children:[t," \u20ac"]})]}),Object(p.jsx)(b,{label:"Add",onClick:this.props.addItem,active:!0})]})}}]),a}(c.a.Component),m=function(t){Object(d.a)(a,t);var e=Object(j.a)(a);function a(){return Object(u.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return 0===this.props.items.length?Object(p.jsx)("p",{children:"... Your list is empty ..."}):Object(p.jsx)("div",{className:"listContainer",children:this.props.items.sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,e){return Object(p.jsx)("ul",{children:Object(p.jsxs)("li",{children:[Object(p.jsxs)("span",{children:[t.name," ",t.price,"\u20ac"]}),Object(p.jsxs)("span",{className:"itemQuantity",children:["x",t.quantity]})]})},"list-".concat(e,"-").concat(t.name))}))})}}]),a}(c.a.Component),O=(a(8),function(t){Object(d.a)(a,t);var e=Object(j.a)(a);function a(){var t;return Object(u.a)(this,a),(t=e.call(this)).state={image:"./images/item.png"},t}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("div",{style:{marginBottom:10,display:"flex",alignItems:"center"},children:[Object(p.jsx)("img",{className:"imgCard",src:this.state.image,alt:"item"}),Object(p.jsx)("p",{style:{margin:"0 1rem"},children:this.props.productName}),Object(p.jsxs)("p",{children:[this.props.price*this.props.quantity," \u20ac"]})]})}}]),a}(c.a.Component)),v=function(t){Object(d.a)(a,t);var e=Object(j.a)(a);function a(){var t;return Object(u.a)(this,a),(t=e.call(this)).roundNumber=function(t){return Math.round(100*t)/100},t.loadData=function(){var e,a,n,c=0;t.props.items.forEach((function(t){c+=t.price})),e=t.roundNumber(c*t.state.TVA),a=t.roundNumber(t.props.items.length*t.state.ecoTax),n=t.roundNumber(c+a+e),t.setState({total:c,totalTVA:e,totalEcoTax:a,totalTTC:n})},t.state={TVA:.2,ecoTax:.3,total:0,totalTVA:0,totalEcoTax:0,totalTTC:0},t}return Object(l.a)(a,[{key:"render",value:function(){return 0!==this.props.items.length&&0===this.state.total&&this.loadData(),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{style:{display:"block"},children:this.props.items.sort((function(t,e){return t.name>e.name?1:-1})).map((function(t,e){return Object(p.jsx)(O,{productName:t.name,price:t.price,quantity:t.quantity},"pay-".concat(e,"-").concat(t.name))}))}),Object(p.jsxs)("p",{children:["Total = ",this.state.total," \u20ac"]}),Object(p.jsxs)("p",{children:["totalTVA = ",this.state.totalTVA," \u20ac"]}),Object(p.jsxs)("p",{children:["totalEcoTax = ",this.state.totalEcoTax," \u20ac"]}),Object(p.jsxs)("p",{children:["totalTTC = ",this.state.totalTTC," \u20ac"]})]})}}]),a}(c.a.Component),x=function(t){Object(d.a)(a,t);var e=Object(j.a)(a);function a(){var t;return Object(u.a)(this,a),(t=e.call(this)).dialog=document.querySelector("dialog"),t.isSelected=function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{activeTab:e})}))},t.updateProductName=function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{productName:e.target.value})}))},t.updatePrice=function(e){t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{price:parseInt(e.target.value)})}))},t.addItem=function(){t.setState((function(e){var a=t.state.items.findIndex((function(t){return t.name===e.productName&&t.price===e.price}));if(-1!==a){var n=JSON.parse(JSON.stringify(e.items));return n[a].quantity++,Object(o.a)(Object(o.a)({},e),{},{items:n,total:e.total+1})}return Object(o.a)(Object(o.a)({},e),{},{items:[].concat(Object(r.a)(e.items),[{name:e.productName,price:e.price,quantity:1}]).sort((function(t,e){return e.name-t.name?1:-1})),total:e.total+1})})),document.querySelector("dialog").showModal()},t.state={activeTab:"Add",items:[],productName:"",price:1,total:0},t}return Object(l.a)(a,[{key:"renderActiveTab",value:function(){return"Pay"===this.state.activeTab?Object(p.jsx)(v,{items:this.state.items}):"List"===this.state.activeTab?Object(p.jsx)(m,{items:this.state.items}):Object(p.jsx)(h,{addItem:this.addItem,price:this.state.price,updateProductName:this.updateProductName,updatePrice:this.updatePrice})}},{key:"render",value:function(){var t=this;return Object(p.jsxs)("div",{className:"main-div",children:[Object(p.jsx)("h1",{className:"main-title",children:"Backery"}),Object(p.jsxs)("div",{className:"div-btn",children:[Object(p.jsx)(b,{onClick:function(){return t.isSelected("Add")},active:"Add"===this.state.activeTab,label:"Add"}),Object(p.jsx)(b,{onClick:function(){return t.isSelected("List")},active:"List"===this.state.activeTab,label:"List (".concat(this.state.total,")")}),Object(p.jsx)(b,{onClick:function(){return t.isSelected("Pay")},active:"Pay"===this.state.activeTab,label:"Pay"})]}),Object(p.jsx)("div",{className:"container",children:this.renderActiveTab()}),Object(p.jsxs)("dialog",{children:[Object(p.jsxs)("p",{children:[this.state.productName," (",this.state.price,"\u20ac) \xe0 bien \xe9t\xe9 ajouter \xe0 la liste"]}),Object(p.jsx)("button",{onClick:function(){return document.querySelector("dialog").close()},children:"OK"})]})]})}}]),a}(c.a.Component);s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(x,{})}),document.getElementById("root"))},8:function(t,e,a){}},[[16,1,2]]]);
//# sourceMappingURL=main.14629d71.chunk.js.map